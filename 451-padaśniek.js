[,,N,L]=process.argv;B=Array(i=8);for(;i--;)B[i]=Array(8).fill`.`;P=[];L.split`,`.map(l=>P.push([x=+l[0],y=+l[1],B[y][x]=l[2],x*4^56*y^5,l[3],0]));for(M=[7,0,1];N--;)P.map(p=>{[u,w]=[x,y,s,n,q]=p;s='R'<s&&13<++p[5]?'R':s;n^=n<<13^n>>17^n>>4;n^=n<<5;z=1-2*(n&1);n&2?w+=z:u+=z;q<1&&'/'>B[w&=7][u&=7]&&(B[y][x]='.',p[1]=y=w,p[0]=x=u);'I'>s&&M.map(i=>M.map(j=>s=B[7&y+i][7&x+j]>'R'?'S':s));p[2]=B[y][x]=s;p[3]=n&0x3fffffff})B.map(b=>console.log(b.join``))